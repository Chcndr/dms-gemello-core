
:root{
  --bg:#072C2E; --panel:#0E2830; --ink:#D5F0E6; --accent:#0FA3A3; --good:#30c36b;
  --danger:#E65454; --muted:#9AB8B3;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
.topbar{position:sticky;top:0;z-index:1000;display:flex;justify-content:space-between;align-items:center;height:48px;padding:0 12px;background:#052023;border-bottom:1px solid #0b3b3f}
.brand{font-weight:700;letter-spacing:.2px}
.ver{opacity:.7;font-size:.9rem}
.app{display:flex;height:calc(100vh - 48px);width:100%}
.sidebar{width:320px;min-width:280px;max-width:380px;background:var(--panel);border-right:1px solid #0b3b3f;overflow:auto;padding:12px}
.section{margin-bottom:16px}
.section h3{margin:4px 0 8px;font-size:1rem}
.section.small{font-size:.9rem;color:var(--muted)}
.row{display:flex;gap:6px}
input[type=text]{flex:1;padding:8px;border:1px solid #1c4a4e;background:#09343a;color:var(--ink);border-radius:6px}
button{background:var(--accent);border:none;color:#001b1c;padding:8px 10px;border-radius:6px;font-weight:700;cursor:pointer}
button:disabled{opacity:.5;cursor:not-allowed}
#map{flex:1}

/* NUOVO: Rettangoli geografici posteggi */
.dms-slot-rect{
  cursor:pointer;
  transition: opacity 0.2s;
}
.dms-slot-rect:hover{
  opacity: 0.9 !important;
}

/* NUOVO: Label numeri posteggi */
.slot-label{
  pointer-events: none; /* Non intercetta click */
}
.slot-number{
  display:flex;
  align-items:center;
  justify-content:center;
  width:24px;
  height:16px;
  background:rgba(255,255,255,0.95);
  border:1px solid #333;
  border-radius:3px;
  color:#001b1c;
  font-weight:800;
  font-size:11px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.3);
}

/* Popup posteggio */
.slot-popup{
  font-family: system-ui, -apple-system, sans-serif;
  font-size: 14px;
  line-height: 1.4;
  min-width: 200px;
}
.slot-popup h4{
  margin: 0 0 8px 0;
  color: #0FA3A3;
  font-size: 16px;
}
.slot-popup h5{
  margin: 8px 0 4px 0;
  color: #0FA3A3;
  font-size: 14px;
}
.slot-popup p{
  margin: 4px 0;
}
.slot-popup hr{
  margin: 8px 0;
  border: none;
  border-top: 1px solid #ddd;
}
.slot-popup button{
  margin-top: 8px;
  padding: 6px 12px;
  background: #0FA3A3;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  width: 100%;
  font-weight: 600;
}
.slot-popup button:hover{
  background: #0d8a8a;
}

/* polygon area */
.dms-area{fill:#0FA3A3; fill-opacity:0.14; stroke:#0FA3A3; stroke-width:2}

/* mobile tweaks */
@media (max-width:920px){
  .sidebar{width:46vw}
  .slot-number{transform:scale(.9)}
}
.msg{margin-top:6px;color:var(--muted);min-height:20px}
.leaflet-control-zoom{margin-top:8px} /* keep visible under header */

/* Leaflet popup custom style */
.leaflet-popup-content-wrapper{
  border-radius: 8px;
  box-shadow: 0 3px 14px rgba(0,0,0,0.4);
}
.leaflet-popup-content{
  margin: 12px;
}

